{"version":3,"file":"ScrollContainer.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../../../src/components/IndexTable/components/ScrollContainer/ScrollContainer.vue"],"sourcesContent":["<template lang=\"pug\">\ndiv(\n  ref=\"scrollableContainerRef\",\n  :class=\"styles.ScrollContainer\",\n  @scroll=\"handleScroll\",\n)\n  slot\n</template>\n\n<script setup lang=\"ts\">\nimport { onMounted, provide, ref } from 'vue';\nimport { debounce } from '@polaris/utilities/debounce';\nimport { scrollDefaultContext, type ScrollContextType } from '../../context';\n\nimport styles from '@polaris/components/IndexTable/components/ScrollContainer/ScrollContainer.module.css';\n\nexport type ScrollContainerEvents = {\n  'scroll': [canScrollLeft: boolean, canScrollRight: boolean];\n}\n\nconst emits = defineEmits<ScrollContainerEvents>();\n\nconst scrollableContainerRef = ref<HTMLDivElement | null>(null);\nconst containerScroll = ref<ScrollContextType>(scrollDefaultContext);\n\nonMounted(() => {\n  if (scrollableContainerRef.value) {\n    scrollableContainerRef.value.dispatchEvent(new Event('scroll'));\n  }\n});\n\nconst handleScroll = debounce(\n  () => {\n    if (!scrollableContainerRef.value) {\n      return;\n    }\n\n    const availableScrollAmount =\n      scrollableContainerRef.value.scrollWidth -\n      scrollableContainerRef.value.offsetWidth;\n\n    const canScrollLeft = scrollableContainerRef.value.scrollLeft > 0;\n    const canScrollRight =\n      scrollableContainerRef.value.scrollLeft < availableScrollAmount;\n\n    emits('scroll', canScrollLeft, canScrollRight);\n\n    containerScroll.value = {\n      scrollableContainer: scrollableContainerRef.value,\n      canScrollLeft,\n      canScrollRight,\n    };\n  },\n  40,\n  {trailing: true, leading: true, maxWait: 40},\n);\n\nprovide('scrollContext', containerScroll);\n\ndefineExpose({ scrollableContainerRef });\n</script>\n"],"names":[],"mappings":";;;;;;;;;;;AAoBA,UAAM,QAAQ;AAER,UAAA,yBAAyB,IAA2B,IAAI;AACxD,UAAA,kBAAkB,IAAuB,oBAAoB;AAEnE,cAAU,MAAM;AACd,UAAI,uBAAuB,OAAO;AAChC,+BAAuB,MAAM,cAAc,IAAI,MAAM,QAAQ,CAAC;AAAA,MAChE;AAAA,IAAA,CACD;AAED,UAAM,eAAe;AAAA,MACnB,MAAM;AACA,YAAA,CAAC,uBAAuB,OAAO;AACjC;AAAA,QACF;AAEA,cAAM,wBACJ,uBAAuB,MAAM,cAC7B,uBAAuB,MAAM;AAEzB,cAAA,gBAAgB,uBAAuB,MAAM,aAAa;AAC1D,cAAA,iBACJ,uBAAuB,MAAM,aAAa;AAEtC,cAAA,UAAU,eAAe,cAAc;AAE7C,wBAAgB,QAAQ;AAAA,UACtB,qBAAqB,uBAAuB;AAAA,UAC5C;AAAA,UACA;AAAA,QAAA;AAAA,MAEJ;AAAA,MACA;AAAA,MACA,EAAC,UAAU,MAAM,SAAS,MAAM,SAAS,GAAE;AAAA,IAAA;AAG7C,YAAQ,iBAAiB,eAAe;AAE3B,aAAA,EAAE,wBAAwB;;;;;;;;;;;;;;"}