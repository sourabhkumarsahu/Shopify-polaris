{"version":3,"file":"Pagination.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../src/components/Pagination/Pagination.vue"],"sourcesContent":["<template lang=\"pug\">\nnav(\n  ref=\"node\",\n  v-if=\"type === 'table'\",\n  :aria-label=\"navLabel\",\n  :class=\"classNames(styles.Pagination, styles.table)\",\n)\n  KeypressListener(\n    v-if=\"prevKeyCondition\",\n    v-for=\"key in previousKeys\",\n    :key=\"key\",\n    :keyCode=\"key\",\n    :handler=\"prevKeypressHandler\",\n  )\n  KeypressListener(\n    v-if=\"nextKeyCondition\"\n    v-for=\"key in nextKeys\",\n    :key=\"key\",\n    :keyCode=\"key\",\n    :handler=\"nextKeypressHandler\",\n  )\n  Box(\n    background=\"bg-surface-secondary\",\n    paddingBlockStart=\"150\",\n    paddingBlockEnd=\"150\",\n    paddingInlineStart=\"300\",\n    paddingInlineEnd=\"200\",\n  )\n    InlineStack(blockAlign=\"center\", align=\"center\")\n      div(\n        :class=\"styles.TablePaginationActions\",\n        data-buttongroup-variant=\"segmented\",\n      )\n        div\n          //- constructedPrevious\n          Tooltip(\n            v-if=\"previousTooltip && hasPrevious\",\n            activatorWrapper=\"span\",\n            preferredPosition=\"below\",\n            :content=\"previousTooltip\",\n          )\n            Button(\n              id=\"previousURL\",\n              :icon=\"ChevronLeftIcon\",\n              :accessibilityLabel=\"previousLabel\",\n              :url=\"previousURL\",\n              :disabled=\"!hasPrevious\",\n              @click=\"emits('previous')\",\n            )\n          Button(\n            v-else,\n            id=\"previousURL\",\n            :icon=\"ChevronLeftIcon\",\n            :accessibilityLabel=\"previousLabel\",\n            :url=\"previousURL\",\n            :disabled=\"!hasPrevious\",\n            @click=\"emits('previous')\",\n          )\n\n        //- labelMarkup\n        Box(\n          v-if=\"hasSlot(slots.default)\",\n          padding=\"300\",\n          paddingBlockStart=\"0\",\n          paddingBlockEnd=\"0\",\n        )\n          Text(\n            as=\"span\",\n            variant=\"bodySm\",\n            fontWeight=\"medium\",\n          )\n            slot\n\n        //- constructedNext\n        div\n          Tooltip(\n            v-if=\"nextTooltip && hasNext\",\n            activatorWrapper=\"span\",\n            preferredPosition=\"below\",\n            :content=\"nextTooltip\",\n          )\n            Button(\n              id=\"nextURL\",\n              :icon=\"ChevronRightIcon\",\n              :accessibilityLabel=\"nextLabel\",\n              :url=\"nextURL\",\n              :disabled=\"!hasNext\",\n              @click=\"emits('next')\",\n            )\n          Button(\n            v-else,\n            id=\"nextURL\",\n            :icon=\"ChevronRightIcon\",\n            :accessibilityLabel=\"nextLabel\",\n            :url=\"nextURL\",\n            :disabled=\"!hasNext\",\n            @click=\"emits('next')\",\n          )\nnav(\n  v-else,\n  ref=\"node\",\n  :aria-label=\"navLabel\",\n  :class=\"styles.Pagination\",\n)\n  KeypressListener(\n    v-if=\"prevKeyCondition\",\n    v-for=\"key in previousKeys\",\n    :key=\"key\",\n    :keyCode=\"key\",\n    :handler=\"prevKeypressHandler\",\n  )\n  KeypressListener(\n    v-if=\"nextKeyCondition\"\n    v-for=\"key in nextKeys\",\n    :key=\"key\",\n    :keyCode=\"key\",\n    :handler=\"nextKeypressHandler\",\n  )\n  ButtonGroup(variant=\"segmented\")\n    Tooltip(\n      v-if=\"previousTooltip && hasPrevious\",\n      activatorWrapper=\"span\",\n      preferredPosition=\"below\",\n      :content=\"previousTooltip\",\n    )\n      Button(\n        id=\"previousURL\",\n        :icon=\"ChevronLeftIcon\",\n        :accessibilityLabel=\"previousLabel\",\n        :url=\"previousURL\",\n        :disabled=\"!hasPrevious\",\n        @click=\"emits('previous')\",\n      )\n    Button(\n      v-else,\n      id=\"previousURL\",\n      :icon=\"ChevronLeftIcon\",\n      :accessibilityLabel=\"previousLabel\",\n      :url=\"previousURL\",\n      :disabled=\"!hasPrevious\",\n      @click=\"emits('previous')\",\n    )\n    Box(\n      v-if=\"hasSlot(slots.default)\"\n      padding=\"300\",\n      paddingBlockStart=\"0\",\n      paddingBlockEnd=\"0\",\n    )\n      div(aria-live=\"polite\")\n        span(v-if=\"hasNext && hasPrevious\")\n          slot\n        Text(\n          v-else,\n          tone=\"subdued\",\n          as=\"span\",\n        )\n          slot\n    Tooltip(\n      v-if=\"nextTooltip && hasNext\",\n      activatorWrapper=\"span\",\n      preferredPosition=\"below\",\n      :content=\"nextTooltip\",\n    )\n      Button(\n        id=\"nextURL\",\n        :icon=\"ChevronRightIcon\",\n        :accessibilityLabel=\"nextLabel\",\n        :url=\"nextURL\",\n        :disabled=\"!hasNext\",\n        @click=\"emits('next')\",\n      )\n    Button(\n      v-else,\n      id=\"nextURL\",\n      :icon=\"ChevronRightIcon\",\n      :accessibilityLabel=\"nextLabel\",\n      :url=\"nextURL\",\n      :disabled=\"!hasNext\",\n      @click=\"emits('next')\",\n    )\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, getCurrentInstance } from 'vue';\nimport { Box, KeypressListener, Button, Tooltip, Text, ButtonGroup } from '@/components';\nimport { classNames } from '@/utilities/css';\nimport { useHasSlot } from '@/use/useHasSlot';\nimport useI18n from '@/use/useI18n';\nimport ChevronLeftIcon from '@icons/ChevronLeftIcon.svg';\nimport ChevronRightIcon from '@icons/ChevronRightIcon.svg';\nimport { isInputFocused } from '@polaris/utilities/is-input-focused';\nimport styles from '@polaris/components/Pagination/Pagination.module.css';\nimport type { PaginationProps, PaginationEvents, PaginationSlots } from './types';\n\nconst props = withDefaults(defineProps<PaginationProps>(), {\n  type: 'page',\n});\n\nconst slots = defineSlots<PaginationSlots>();\nconst emits = defineEmits<PaginationEvents>();\n\nconst i18n = useI18n();\nconst currentInstance = getCurrentInstance();\nconst { hasSlot } = useHasSlot();\n\nconst node = ref<HTMLDivElement | null>(null);\n\nconst navLabel = computed(() =>\n  props.accessibilityLabel || i18n.translate('Polaris.Pagination.pagination'),\n);\n\nconst previousLabel = computed(() =>\n  props.accessibilityLabels?.previous || i18n.translate('Polaris.Pagination.previous'),\n);\n\nconst nextLabel = computed(() =>\n    props.accessibilityLabels?.next || i18n.translate('Polaris.Pagination.next'),\n);\n\nconst prevKeyCondition = computed(() =>\n  props.previousKeys && (props.previousURL || currentInstance?.vnode.props?.onPrevious) && props.hasPrevious,\n);\n\nconst nextKeyCondition = computed(() =>\n  props.nextKeys && (props.nextURL || currentInstance?.vnode.props?.onNext) && props.hasNext\n);\n\nconst clickPaginationLink = (id: string) => {\n  return () => {\n    if (node.value == null) {\n      return;\n    }\n\n    const link: HTMLAnchorElement | null = node.value.querySelector(`#${id}`);\n    if (link) {\n      link.click();\n    }\n  }\n};\n\nconst handleCallback = (fn: () => void) => {\n  return () => {\n    if (isInputFocused()) {\n      return;\n    }\n\n    fn();\n  };\n}\n\nconst prevKeypressHandler = () => {\n  if (props.previousURL) {\n    handleCallback(clickPaginationLink('previousURL'));\n  } else {\n    const preEmit = currentInstance?.vnode.props?.onPrevious as any;\n    handleCallback(preEmit());\n  }\n}\n\nconst nextKeypressHandler = () => {\n  if (props.nextURL) {\n    handleCallback(clickPaginationLink('nextURL'));\n  } else {\n    const nextEmit = currentInstance?.vnode.props?.onNext as any;\n    handleCallback(nextEmit());\n  }\n}\n</script>\n"],"names":["_useSlots"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkMA,UAAM,QAAQ;AAId,UAAM,QAAQA;AACd,UAAM,QAAQ;AAEd,UAAM,OAAO;AACb,UAAM,kBAAkB;AAClB,UAAA,EAAE,YAAY;AAEd,UAAA,OAAO,IAA2B,IAAI;AAE5C,UAAM,WAAW;AAAA,MAAS,MACxB,MAAM,sBAAsB,KAAK,UAAU,+BAA+B;AAAA,IAAA;AAG5E,UAAM,gBAAgB;AAAA,MAAS,MAC7B;;AAAA,4BAAM,wBAAN,mBAA2B,aAAY,KAAK,UAAU,6BAA6B;AAAA;AAAA,IAAA;AAGrF,UAAM,YAAY;AAAA,MAAS,MACvB;;AAAA,4BAAM,wBAAN,mBAA2B,SAAQ,KAAK,UAAU,yBAAyB;AAAA;AAAA,IAAA;AAG/E,UAAM,mBAAmB;AAAA,MAAS,MAAA;;AAChC,qBAAM,iBAAiB,MAAM,iBAAe,wDAAiB,MAAM,UAAvB,mBAA8B,gBAAe,MAAM;AAAA;AAAA,IAAA;AAGjG,UAAM,mBAAmB;AAAA,MAAS,MAAA;;AAChC,qBAAM,aAAa,MAAM,aAAW,wDAAiB,MAAM,UAAvB,mBAA8B,YAAW,MAAM;AAAA;AAAA,IAAA;AAgB/E,UAAA,iBAAiB,CAAC,OAAmB;AACzC,aAAO,MAAM;AACX,YAAI,kBAAkB;AACpB;AAAA,QACF;AAEG;MAAA;AAAA,IACL;AAGF,UAAM,sBAAsB,MAAM;;AAChC,UAAI,MAAM,YAAa;AAAA,WAEhB;AACC,cAAA,WAAU,wDAAiB,MAAM,UAAvB,mBAA8B;AAC9C,uBAAe,SAAS;AAAA,MAC1B;AAAA,IAAA;AAGF,UAAM,sBAAsB,MAAM;;AAChC,UAAI,MAAM,QAAS;AAAA,WAEZ;AACC,cAAA,YAAW,wDAAiB,MAAM,UAAvB,mBAA8B;AAC/C,uBAAe,UAAU;AAAA,MAC3B;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}