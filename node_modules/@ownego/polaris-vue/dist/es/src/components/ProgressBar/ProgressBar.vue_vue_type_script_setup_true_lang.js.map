{"version":3,"file":"ProgressBar.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../src/components/ProgressBar/ProgressBar.vue"],"sourcesContent":["<template lang=\"pug\">\ndiv(:class=\"className\")\n  progress(\n    max=\"100\",\n    :class=\"styles.Progress\",\n    :aria-labelledby=\"ariaLabelledBy\",\n    :value=\"parsedProgress\",\n  )\n  transition(\n    appear,\n    :duration=\"parseInt(progressBarDuration, 10)\",\n    @enter=\"onTransitionEnter\",\n  )\n    div(\n      :class=\"classNames(styles.Indicator)\",\n      :style=\"indicatorStyles\",\n    )\n      span(:class=\"styles.Label\") {{ parsedProgress }}%\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, inject } from 'vue';\nimport type { Theme } from '@shopify/polaris-tokens';\nimport { classNames, variationName } from '@/utilities/css';\nimport useI18n from '@/use/useI18n';\nimport styles from '@polaris/components/ProgressBar/ProgressBar.module.css';\n\ntype Size = 'small' | 'medium' | 'large';\ntype Color = 'highlight' | 'primary' | 'success' | 'critical';\n\nexport interface ProgressBarProps {\n  /**\n   * The progression of certain tasks\n   * @default 0\n   */\n  progress?: number;\n  /**\n   * Size of progressbar\n   * @default 'medium'\n   */\n  size?: Size;\n  /**\n   * Whether the fill animation is triggered\n   * @default 'true'\n   */\n  animated?: boolean;\n  /**\n   * Id (ids) of element (elements) that describes progressbar\n   */\n  ariaLabelledBy?: string;\n  /**\n   * Color of progressbar\n   * @default 'highlight'\n   */\n  color?: Color;\n}\n\nconst props = withDefaults(defineProps<ProgressBarProps>(), {\n  progress: 0,\n  size: 'medium',\n  color: 'highlight',\n  animated: true,\n});\n\nconst theme = inject('theme', {} as Theme);\nconst i18n = useI18n();\n\nconst className = computed(() =>\n  classNames(\n    styles.ProgressBar,\n    props.size && styles[variationName('size', props.size)],\n    props.color && styles[variationName('tone', props.color)],\n  ),\n);\n\nconst warningMessage = computed(() =>\n  i18n.translate(\n    props.progress < 0\n      ? 'Polaris.ProgressBar.negativeWarningMessage'\n      : 'Polaris.ProgressBar.exceedWarningMessage',\n    { progress: props.progress },\n  ),\n);\n\nconst parsedProgress = computed(() => {\n  if (props.progress < 0) {\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(warningMessage.value);\n    }\n\n    return 0;\n  } else if (props.progress > 100) {\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(warningMessage.value);\n    }\n\n    return 100;\n  }\n\n  return props.progress;\n});\n\nconst progressBarDuration = computed(() =>\n  props.animated\n    ? theme.motion['motion-duration-500']\n    : theme.motion['motion-duration-0'],\n);\n\nconst indicatorStyles = computed(() => (\n  {\n    '--pc-progress-bar-duration': progressBarDuration.value,\n    '--pc-progress-bar-percent': parsedProgress.value / 100,\n  }\n));\n\nconst onTransitionEnter = (el: Element, done: () => void) => {\n  setTimeout(() => {\n    el.classList.add(styles.IndicatorAppearDone);\n    done();\n  }, 50);\n}\n</script>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA,UAAM,QAAQ;AAOd,UAAM,QAAQ,OAAO,SAAS,CAAW,CAAA;AACzC,UAAM,OAAO;AAEb,UAAM,YAAY;AAAA,MAAS,MACzB;AAAA,QACE,OAAO;AAAA,QACP,MAAM,QAAQ,OAAO,cAAc,QAAQ,MAAM,IAAI,CAAC;AAAA,QACtD,MAAM,SAAS,OAAO,cAAc,QAAQ,MAAM,KAAK,CAAC;AAAA,MAC1D;AAAA,IAAA;AAGF,UAAM,iBAAiB;AAAA,MAAS,MAC9B,KAAK;AAAA,QACH,MAAM,WAAW,IACb,+CACA;AAAA,QACJ,EAAE,UAAU,MAAM,SAAS;AAAA,MAC7B;AAAA,IAAA;AAGI,UAAA,iBAAiB,SAAS,MAAM;AAChC,UAAA,MAAM,WAAW,GAAG;AAClB,YAAA,QAAQ,IAAI,aAAa,eAAe;AAClC,kBAAA,KAAK,eAAe,KAAK;AAAA,QACnC;AAEO,eAAA;AAAA,MAAA,WACE,MAAM,WAAW,KAAK;AAC3B,YAAA,QAAQ,IAAI,aAAa,eAAe;AAClC,kBAAA,KAAK,eAAe,KAAK;AAAA,QACnC;AAEO,eAAA;AAAA,MACT;AAEA,aAAO,MAAM;AAAA,IAAA,CACd;AAED,UAAM,sBAAsB;AAAA,MAAS,MACnC,MAAM,WACF,MAAM,OAAO,qBAAqB,IAClC,MAAM,OAAO,mBAAmB;AAAA,IAAA;AAGhC,UAAA,kBAAkB,SAAS,OAC/B;AAAA,MACE,8BAA8B,oBAAoB;AAAA,MAClD,6BAA6B,eAAe,QAAQ;AAAA,IAEvD,EAAA;AAEK,UAAA,oBAAoB,CAAC,IAAa,SAAqB;AAC3D,iBAAW,MAAM;AACZ,WAAA,UAAU,IAAI,OAAO,mBAAmB;AACtC;SACJ,EAAE;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}