{"version":3,"file":"HuePicker.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../../../src/components/ColorPicker/components/HuePicker/HuePicker.vue"],"sourcesContent":["<template lang=\"pug\">\ndiv(\n  ref=\"huePickerRef\",\n  :class=\"styles.HuePicker\",\n)\n  Slidable(\n    :dragger-y=\"draggerY\",\n    :dragger-x=\"0\",\n    @change=\"handleChange\",\n    @dragger-height=\"setDraggerHeight\",\n  )\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, onBeforeUnmount, ref } from 'vue';\nimport { calculateDraggerY, hueForDraggerY } from '@polaris/components/ColorPicker/components/HuePicker/utilities';\nimport styles from '@polaris/components/ColorPicker/ColorPicker.module.css';\nimport { Slidable } from '../Slidable';\n\ntype HuePickerProps = {\n  hue: number;\n}\n\ntype HuePickerEvents = {\n  'change': [hue: number];\n}\n\nconst props = defineProps<HuePickerProps>();\nconst emits = defineEmits<HuePickerEvents>();\n\nconst sliderHeight = ref(0);\nconst draggerHeight = ref(0);\nconst huePickerRef = ref<HTMLElement | null>(null);\nconst observer = ref<ResizeObserver | null>(null);\n\nconst draggerY = computed(() => {\n  return calculateDraggerY(props.hue, sliderHeight.value, draggerHeight.value);\n});\n\nonMounted(() => {\n  if (!huePickerRef.value) {\n    return;\n  }\n\n  observer.value = new ResizeObserver(() => {\n    setSliderHeight();\n  });\n\n  observer.value.observe(huePickerRef.value);\n\n  setSliderHeight();\n});\n\nonBeforeUnmount(() => {\n  observer.value?.disconnect();\n});\n\nconst setSliderHeight = () => {\n  if (!huePickerRef.value) {\n    return;\n  }\n\n  sliderHeight.value = huePickerRef.value.clientHeight;\n};\n\nconst setDraggerHeight = (height: number) => {\n  draggerHeight.value = height;\n};\n\nconst handleChange = ({ y }: {y: number}) => {\n  const hue = hueForDraggerY(y, sliderHeight.value);\n  emits('change', hue);\n};\n</script>\n"],"names":[],"mappings":";;;;;;;;;;;AA2BA,UAAM,QAAQ;AACd,UAAM,QAAQ;AAER,UAAA,eAAe,IAAI,CAAC;AACpB,UAAA,gBAAgB,IAAI,CAAC;AACrB,UAAA,eAAe,IAAwB,IAAI;AAC3C,UAAA,WAAW,IAA2B,IAAI;AAE1C,UAAA,WAAW,SAAS,MAAM;AAC9B,aAAO,kBAAkB,MAAM,KAAK,aAAa,OAAO,cAAc,KAAK;AAAA,IAAA,CAC5E;AAED,cAAU,MAAM;AACV,UAAA,CAAC,aAAa,OAAO;AACvB;AAAA,MACF;AAES,eAAA,QAAQ,IAAI,eAAe,MAAM;AACxB;MAAA,CACjB;AAEQ,eAAA,MAAM,QAAQ,aAAa,KAAK;AAEzB;IAAA,CACjB;AAED,oBAAgB,MAAM;;AACpB,qBAAS,UAAT,mBAAgB;AAAA,IAAW,CAC5B;AAED,UAAM,kBAAkB,MAAM;AACxB,UAAA,CAAC,aAAa,OAAO;AACvB;AAAA,MACF;AAEa,mBAAA,QAAQ,aAAa,MAAM;AAAA,IAAA;AAGpC,UAAA,mBAAmB,CAAC,WAAmB;AAC3C,oBAAc,QAAQ;AAAA,IAAA;AAGxB,UAAM,eAAe,CAAC,EAAE,QAAqB;AAC3C,YAAM,MAAM,eAAe,GAAG,aAAa,KAAK;AAChD,YAAM,UAAU,GAAG;AAAA,IAAA;;;;;;;;;;;;;;;;;"}