{"version":3,"file":"Spinner.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../src/components/Spinner/Spinner.vue"],"sourcesContent":["<template lang=\"pug\">\nspan(:class=\"className\")\n  SpinnerIconLarge(v-if=\"size === 'large'\")\n  SpinnerIconSmall(v-else)\nspan(v-bind=\"spanAttributes\")\n  Text(\n    v-if=\"isAfterInitialMount || !hasFocusableParent\",\n    visually-hidden,\n    as=\"span\",\n  ) {{ accessibilityLabel }}\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, ref } from 'vue';\nimport { classNames, variationName } from '@/utilities/css';\nimport { Text } from '@/components';\nimport SpinnerIconLarge from '@/assets/spinner-large.svg';\nimport SpinnerIconSmall from '@/assets/spinner-small.svg';\nimport styles from '@polaris/components/Spinner/Spinner.module.css';\n\ntype Size = 'small' | 'large';\n\nexport interface SpinnerProps {\n  /**\n   * Size of spinner\n   * @default 'large'\n   */\n  size?: Size;\n  /** Accessible label for the spinner */\n  accessibilityLabel?: string;\n  /** Allows the component to apply the correct accessibility roles based on focus */\n  hasFocusableParent?: boolean;\n}\n\nconst props = withDefaults(defineProps<SpinnerProps>(), {\n  size: 'large',\n});\n\n/**\n * useIsAfterInitialMount will trigger a re-render to provide\n * you with an updated value. Using this you enhance server-side\n * code that can only run on the client.\n * @returns MutableRefObject<T> - Returns a ref object with the\n * results from invoking initial value\n * @example\n * function ComponentExample({children}) {\n *  const isMounted = useIsAfterInitialMount();\n *  const content = isMounted ? children : null;\n *\n *  return <>{content}</>;\n * }\n */\nconst isAfterInitialMount = ref(false);\n\nconst spanAttributes = computed(() => {\n  return {\n    ...(!props.hasFocusableParent && { role: 'status' }),\n  };\n});\nconst className = computed(() => {\n  return classNames(\n    styles.Spinner,\n    props.size && styles[variationName('size', props.size)],\n  );\n});\n\nonMounted(() => {\n  isAfterInitialMount.value = true;\n});\n</script>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,UAAM,QAAQ;AAkBR,UAAA,sBAAsB,IAAI,KAAK;AAE/B,UAAA,iBAAiB,SAAS,MAAM;AAC7B,aAAA;AAAA,QACL,GAAI,CAAC,MAAM,sBAAsB,EAAE,MAAM,SAAS;AAAA,MAAA;AAAA,IACpD,CACD;AACK,UAAA,YAAY,SAAS,MAAM;AACxB,aAAA;AAAA,QACL,OAAO;AAAA,QACP,MAAM,QAAQ,OAAO,cAAc,QAAQ,MAAM,IAAI,CAAC;AAAA,MAAA;AAAA,IACxD,CACD;AAED,cAAU,MAAM;AACd,0BAAoB,QAAQ;AAAA,IAAA,CAC7B;;;;;;;;;;;;;;;;;;;;;;;;"}