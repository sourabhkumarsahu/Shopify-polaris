{"version":3,"file":"EventListener.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../src/components/EventListener/EventListener.vue"],"sourcesContent":["<script lang=\"ts\">\nexport default {\n  name: 'EventListener',\n  inheritAttrs: false,\n  render() {\n    return null;\n  },\n}\n</script>\n<script setup lang=\"ts\">\nimport { onMounted, watch, onBeforeUnmount } from 'vue';\n\ntype EventListenerProps = {\n  event: string;\n  capture?: boolean;\n  handler(event: Event): void;\n  passive?: boolean;\n  customWindow?: Window | null;\n}\n\nconst props = defineProps<EventListenerProps>();\n\nonMounted(() => {\n  attachListener();\n});\n\nonBeforeUnmount(() => {\n  detachListener();\n});\n\nwatch(\n  () => ({ ...props }),\n  (newProps, oldProps) => {\n    if (newProps !== oldProps) {\n      detachListener();\n      attachListener();\n    }\n  },\n);\n\nfunction attachListener() {\n  const window = props.customWindow || globalThis.window;\n\n  window.addEventListener(props.event, props.handler, {\n    capture: props.capture,\n    passive: props.passive,\n  });\n}\n\nfunction detachListener() {\n  const window = props.customWindow || globalThis.window;\n\n  window.removeEventListener(props.event, props.handler, {\n    capture: props.capture,\n  });\n}\n</script>\n"],"names":[],"mappings":";AACA,MAAA,cAAe;AAAA,EACb,MAAM;AAAA,EACN,cAAc;AAAA,EACd,SAAS;AACA,WAAA;AAAA,EACT;AACF;;;;;;;;;;;AAaA,UAAM,QAAQ;AAEd,cAAU,MAAM;AACC;IAAA,CAChB;AAED,oBAAgB,MAAM;AACL;IAAA,CAChB;AAED;AAAA,MACE,OAAO,EAAE,GAAG;MACZ,CAAC,UAAU,aAAa;AACtB,YAAI,aAAa,UAAU;AACV;AACA;QACjB;AAAA,MACF;AAAA,IAAA;AAGF,aAAS,iBAAiB;AAClB,YAAA,SAAS,MAAM,gBAAgB,WAAW;AAEhD,aAAO,iBAAiB,MAAM,OAAO,MAAM,SAAS;AAAA,QAClD,SAAS,MAAM;AAAA,QACf,SAAS,MAAM;AAAA,MAAA,CAChB;AAAA,IACH;AAEA,aAAS,iBAAiB;AAClB,YAAA,SAAS,MAAM,gBAAgB,WAAW;AAEhD,aAAO,oBAAoB,MAAM,OAAO,MAAM,SAAS;AAAA,QACrD,SAAS,MAAM;AAAA,MAAA,CAChB;AAAA,IACH;;;;"}