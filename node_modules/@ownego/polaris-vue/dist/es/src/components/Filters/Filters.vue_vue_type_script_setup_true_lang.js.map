{"version":3,"file":"Filters.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../src/components/Filters/Filters.vue"],"sourcesContent":["<template lang=\"pug\">\ndiv(\n  ref=\"containerRef\",\n  :class=\"filtersClassName\",\n  :style=\"searchFieldStyle\",\n)\n  //- QueryField\n  div(\n    v-if=\"!hideQueryField\",\n    :class=\"styles.Container\",\n  )\n    Box(padding=\"200\")\n      InlineStack(\n        align=\"start\",\n        block-align=\"center\",\n        :gap=\"{ xs: '400', md: '300' }\",\n      )\n        div(\n          :class=\"styles.SearchField\",\n        )\n          SearchField(\n            v-model=\"modelValue\",\n            :placeholder=\"queryPlaceholder\",\n            :focused=\"focused\",\n            :loading=\"loading\",\n            :disabled=\"disabled || disableQueryField\",\n            :borderless-query-field=\"borderlessQueryField\",\n            :selected-view-name=\"selectedViewName\",\n            @clear=\"emits('query-clear')\",\n            @focus=\"emits('query-focus')\",\n            @blur=\"emits('query-blur')\",\n          )\n        slot\n  //- Filters\n  FiltersBar(\n    v-if=\"!hideFilterBar\",\n    :applied-filters=\"appliedFilters\",\n    :filters=\"filters\",\n    :disabled=\"disabled\",\n    :hide-query-field=\"hideQueryField\",\n    :disable-filters=\"disableFilters\",\n    :close-on-child-overlay-click=\"closeOnChildOverlayClick\",\n    :style=\"mountedStateStyles\",\n    @add-filter-click=\"emits('add-filter-click')\",\n    @clear-all=\"emits('clear-all')\",\n  )\n    slot\n</template>\n\n<script setup lang=\"ts\">\nimport { type VNode, computed } from 'vue';\nimport { classNames } from '@/utilities/css';\nimport type { AppliedFilterInterface, FilterInterface, VueNode } from '@/utilities/types';\nimport {\n  InlineStack,\n  Box,\n} from '@/components';\nimport {\n  FiltersBar,\n  SearchField,\n} from './components';\nimport styles  from '@polaris/components/Filters/Filters.module.css';\nimport { type TransitionStatus } from '../IndexFilters/types';\n\nconst TRANSITION_DURATION = 'var(--p-motion-duration-150)';\nconst TRANSITION_MARGIN = '-36px';\n\nconst defaultStyle = {\n  transition: `opacity ${TRANSITION_DURATION} var(--p-motion-ease)`,\n  opacity: 0,\n};\n\nconst transitionStyles = {\n  entering: {opacity: 1},\n  entered: {opacity: 1},\n  exiting: {opacity: 0},\n  exited: {opacity: 0},\n  unmounted: {opacity: 0},\n};\n\nconst defaultFilterStyles = {\n  transition: `opacity ${TRANSITION_DURATION} var(--p-motion-ease), margin ${TRANSITION_DURATION} var(--p-motion-ease)`,\n  opacity: 0,\n  marginTop: TRANSITION_MARGIN,\n};\n\nconst transitionFilterStyles = {\n  entering: {\n    opacity: 1,\n    marginTop: 0,\n  },\n  entered: {\n    opacity: 1,\n    marginTop: 0,\n  },\n  exiting: {\n    opacity: 0,\n    marginTop: TRANSITION_MARGIN,\n  },\n  exited: {\n    opacity: 0,\n    marginTop: TRANSITION_MARGIN,\n  },\n  unmounted: {\n    opacity: 0,\n    marginTop: TRANSITION_MARGIN,\n  },\n};\n\nexport type FiltersProps = {\n  /** Currently entered text in the query field */\n  queryValue?: string;\n  /** Placeholder text for the query field. */\n  queryPlaceholder?: string;\n  /** Whether the query field is focused. */\n  focused?: boolean;\n  /** Available filters added to the filter bar. Shortcut filters are pinned to the front of the bar. */\n  filters: FilterInterface[];\n  /** Applied filters which are rendered as filter pills. The remove callback is called with the respective key. */\n  appliedFilters?: AppliedFilterInterface[];\n  /** Disable all filters. */\n  disabled?: boolean;\n  /** Hide filter bar for applied filters. */\n  hideFilters?: boolean;\n  /** Hide the query field. */\n  hideQueryField?: boolean;\n  /** Disable the query field. */\n  disableQueryField?: boolean;\n  /** Disable the filters */\n  disableFilters?: boolean;\n  /** Whether the text field should be borderless. Should be true when used as part of the IndexFilters component. */\n  borderlessQueryField?: boolean;\n  /** Whether an asyncronous task is currently being run. */\n  loading?: boolean;\n  mountedState?: TransitionStatus;\n  /** Whether the filter should close when clicking inside another Popover. */\n  closeOnChildOverlayClick?: boolean;\n  /** @deprecated The name of the currently selected view */\n  selectedViewName?: string;\n};\n\ntype FiltersEvents = {\n  /** Callback when the query field is changed. */\n  'query-change': [query: string];\n  /** Callback when the clear button is triggered. */\n  'query-clear': [];\n  /** Callback when the reset all button is pressed. */\n  'clear-all': [];\n  /** Callback when the query field is blurred. */\n  'query-blur': [];\n  /** Callback when the query field is focused. */\n  'query-focus': [];\n  /** Callback when the add filter button is clicked. */\n  'add-filter-click': [];\n};\n\nconst props = defineProps<FiltersProps>();\nconst emits = defineEmits<FiltersEvents>();\nconst slots = defineSlots<{\n  /** The content to display inline with the controls. */\n  default?: (_?: VueNode) => VNode[];\n}>();\n\nconst modelValue = computed({\n  get: () => props.queryValue || '',\n  set: (value: string) => emits('query-change', value),\n});\n\nconst filtersClassName = computed(() => classNames(\n  styles.Filters,\n  props.hideQueryField && styles.hideQueryField,\n));\nconst searchFieldStyle = computed(() => {\n  if (props.mountedState === 'entered') {\n    return undefined;\n  }\n\n  return props.mountedState\n    ? {\n        ...defaultStyle,\n        ...transitionStyles[props.mountedState],\n      }\n    : undefined;\n});\nconst mountedStateStyles = computed(() => {\n  return props.mountedState && !props.hideQueryField\n    ? {\n        ...defaultFilterStyles,\n        ...transitionFilterStyles[props.mountedState],\n      }\n    : undefined;\n});\nconst hideFilterBar = computed(() => props.hideFilters || props.filters.length === 0);\n</script>\n"],"names":["_useSlots"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA,MAAM,sBAAsB;AAC5B,MAAM,oBAAoB;;;;;;;;;;;;;;;;;;;;;;AAE1B,UAAM,eAAe;AAAA,MACnB,YAAY,WAAW,mBAAmB;AAAA,MAC1C,SAAS;AAAA,IAAA;AAGX,UAAM,mBAAmB;AAAA,MACvB,UAAU,EAAC,SAAS,EAAC;AAAA,MACrB,SAAS,EAAC,SAAS,EAAC;AAAA,MACpB,SAAS,EAAC,SAAS,EAAC;AAAA,MACpB,QAAQ,EAAC,SAAS,EAAC;AAAA,MACnB,WAAW,EAAC,SAAS,EAAC;AAAA,IAAA;AAGxB,UAAM,sBAAsB;AAAA,MAC1B,YAAY,WAAW,mBAAmB,iCAAiC,mBAAmB;AAAA,MAC9F,SAAS;AAAA,MACT,WAAW;AAAA,IAAA;AAGb,UAAM,yBAAyB;AAAA,MAC7B,UAAU;AAAA,QACR,SAAS;AAAA,QACT,WAAW;AAAA,MACb;AAAA,MACA,SAAS;AAAA,QACP,SAAS;AAAA,QACT,WAAW;AAAA,MACb;AAAA,MACA,SAAS;AAAA,QACP,SAAS;AAAA,QACT,WAAW;AAAA,MACb;AAAA,MACA,QAAQ;AAAA,QACN,SAAS;AAAA,QACT,WAAW;AAAA,MACb;AAAA,MACA,WAAW;AAAA,QACT,SAAS;AAAA,QACT,WAAW;AAAA,MACb;AAAA,IAAA;AAkDF,UAAM,QAAQ;AACd,UAAM,QAAQ;AACAA;AAKd,UAAM,aAAa,SAAS;AAAA,MAC1B,KAAK,MAAM,MAAM,cAAc;AAAA,MAC/B,KAAK,CAAC,UAAkB,MAAM,gBAAgB,KAAK;AAAA,IAAA,CACpD;AAEK,UAAA,mBAAmB,SAAS,MAAM;AAAA,MACtC,OAAO;AAAA,MACP,MAAM,kBAAkB,OAAO;AAAA,IAAA,CAChC;AACK,UAAA,mBAAmB,SAAS,MAAM;AAClC,UAAA,MAAM,iBAAiB,WAAW;AAC7B,eAAA;AAAA,MACT;AAEA,aAAO,MAAM,eACT;AAAA,QACE,GAAG;AAAA,QACH,GAAG,iBAAiB,MAAM,YAAY;AAAA,MAExC,IAAA;AAAA,IAAA,CACL;AACK,UAAA,qBAAqB,SAAS,MAAM;AACxC,aAAO,MAAM,gBAAgB,CAAC,MAAM,iBAChC;AAAA,QACE,GAAG;AAAA,QACH,GAAG,uBAAuB,MAAM,YAAY;AAAA,MAE9C,IAAA;AAAA,IAAA,CACL;AACK,UAAA,gBAAgB,SAAS,MAAM,MAAM,eAAe,MAAM,QAAQ,WAAW,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}