{"version":3,"file":"Avatar.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../src/components/Avatar/Avatar.vue"],"sourcesContent":["<template lang=\"pug\">\nspan(\n  :aria-label=\"label\",\n  :class=\"className\",\n  :role=\"label ? 'img' : 'presentation'\",\n)\n  span(\n    v-if=\"!hasImage\",\n    :class=\"styles.Initials\",\n  )\n    svg(\n      :class=\"styles.Svg\",\n      viewBox=\"0 0 40 40\",\n    )\n      template(v-if=\"customer || !initials\")\n        path(\n          fill=\"none\",\n          d=\"M25.5 13.5C25.5 16.5376 23.0376 19 20 19C16.9624 19 14.5 16.5376 14.5 13.5C14.5 10.4624 16.9624 8 20 8C23.0376 8 25.5 10.4624 25.5 13.5Z\",\n          stroke=\"currentColor\",\n          :stroke-width=\"pathSize\",\n        )\n        path(\n          fill=\"none\",\n          d=\"M10.3433 29.682L9.47 31.254C9.03481 32.0373 9.60125 33 10.4974 33H29.5026C30.3988 33 30.9652 32.0373 30.53 31.254L29.6567 29.682C27.7084 26.175 24.0119 24 20 24C15.9882 24 12.2916 26.175 10.3433 29.682Z\",\n          stroke=\"currentColor\",\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\",\n          :stroke-width=\"pathSize\",\n        )\n      text(\n        v-else,\n        :class=\"textClassName\",\n        x=\"50%\",\n        y=\"50%\",\n        :dy=\"verticalOffset\",\n        fill=\"currentColor\",\n        text-anchor=\"middle\",\n      ) {{ initials }}\n  Image(\n    v-if=\"source && status !== Status.Errored\",\n    :class=\"imageClassName\",\n    :source=\"source\",\n    alt=\"\",\n    role=\"presentation\",\n    @load=\"handleLoad\",\n    @error=\"handleError\",\n  )\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue';\nimport { classNames, variationName } from '@/utilities/css';\nimport useI18n from '@/use/useI18n';\nimport { Image } from '@/components';\nimport styles from '@polaris/components/Avatar/Avatar.module.css';\nimport type { Size, AvatarProps } from './utils';\nimport { styleClass } from './utils';\n\nenum Status {\n  Pending = 'PENDING',\n  Loaded = 'LOADED',\n  Errored = 'ERRORED',\n}\n\nconst avatarStrokeWidth: {[S in Size]: string} = {\n  xs: '3',\n  sm: '2.5',\n  md: '2.5',\n  lg: '2.5',\n  xl: '2',\n};\n\n// Use `dominant-baseline: central` instead of `dy` when Edge supports it.\nconst verticalOffset = '0.35em';\n\nconst props = withDefaults(defineProps<AvatarProps>(), {\n  size: 'md',\n});\nconst emit = defineEmits<{\n  'error': [],\n}>();\n\nconst i18n = useI18n();\n\nconst status = ref<Status>(Status.Pending);\n\nconst hasImage = computed(() => props.source && status.value !== Status.Errored);\nconst nameString = computed(() => props.name || props.initials);\nconst className = computed(() => classNames(\n  styles.Avatar,\n  props.size && styles[variationName('size', props.size)],\n  hasImage.value && status.value === Status.Loaded && styles.imageHasLoaded,\n  !props.customer &&\n    !hasImage.value &&\n    styles[variationName('style', styleClass(nameString.value))],\n));\nconst textClassName = computed(() => classNames(\n  styles.Text,\n  (props.initials?.length || 0) > 2 && styles.long,\n));\nconst label = computed(() => {\n  if (props.accessibilityLabel) {return props.accessibilityLabel;}\n  if (props.name) {return props.name;}\n  if (props.initials) {\n    const splitInitials = props.initials.split('').join(' ');\n    return i18n.translate('Polaris.Avatar.labelWithInitials', {\n      initials: splitInitials,\n    });\n  }\n  return 'Avatar';\n});\nconst imageClassName = computed(() => classNames(\n  styles.Image,\n  status.value !== Status.Loaded && styles.hidden,\n));\nconst pathSize = computed(() => avatarStrokeWidth[props.size]);\n\nconst handleLoad = () => {\n  status.value = Status.Loaded;\n};\n\nconst handleError = () => {\n  status.value = Status.Errored;\n\n  emit('error');\n};\n</script>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA,MAAM,iBAAiB;;;;;;;;;;;;;AATvB,UAAM,oBAA2C;AAAA,MAC/C,IAAI;AAAA,MACJ,IAAI;AAAA,MACJ,IAAI;AAAA,MACJ,IAAI;AAAA,MACJ,IAAI;AAAA,IAAA;AAMN,UAAM,QAAQ;AAGd,UAAM,OAAO;AAIb,UAAM,OAAO;AAEP,UAAA,SAAS;AAAA,MAAY;AAAA;AAAA;AAE3B,UAAM,WAAW;AAAA,MAAS,MAAM,MAAM,UAAU,OAAO,UAAU;AAAA;AAAA;AACjE,UAAM,aAAa,SAAS,MAAM,MAAM,QAAQ,MAAM,QAAQ;AACxD,UAAA,YAAY,SAAS,MAAM;AAAA,MAC/B,OAAO;AAAA,MACP,MAAM,QAAQ,OAAO,cAAc,QAAQ,MAAM,IAAI,CAAC;AAAA,MACtD,SAAS,SAAS,OAAO,UAAU,YAAiB,OAAO;AAAA,MAC3D,CAAC,MAAM,YACL,CAAC,SAAS,SACV,OAAO,cAAc,SAAS,WAAW,WAAW,KAAK,CAAC,CAAC;AAAA,IAAA,CAC9D;AACK,UAAA,gBAAgB,SAAS;;AAAM;AAAA,QACnC,OAAO;AAAA,WACN,WAAM,aAAN,mBAAgB,WAAU,KAAK,KAAK,OAAO;AAAA,MAAA;AAAA,KAC7C;AACK,UAAA,QAAQ,SAAS,MAAM;AAC3B,UAAI,MAAM,oBAAoB;AAAC,eAAO,MAAM;AAAA,MAAmB;AAC/D,UAAI,MAAM,MAAM;AAAC,eAAO,MAAM;AAAA,MAAK;AACnC,UAAI,MAAM,UAAU;AAClB,cAAM,gBAAgB,MAAM,SAAS,MAAM,EAAE,EAAE,KAAK,GAAG;AAChD,eAAA,KAAK,UAAU,oCAAoC;AAAA,UACxD,UAAU;AAAA,QAAA,CACX;AAAA,MACH;AACO,aAAA;AAAA,IAAA,CACR;AACK,UAAA,iBAAiB,SAAS,MAAM;AAAA,MACpC,OAAO;AAAA,MACP,OAAO,UAAU,YAAiB,OAAO;AAAA,IAAA,CAC1C;AACD,UAAM,WAAW,SAAS,MAAM,kBAAkB,MAAM,IAAI,CAAC;AAE7D,UAAM,aAAa,MAAM;AACvB,aAAO,QAAQ;AAAA,IAAA;AAGjB,UAAM,cAAc,MAAM;AACxB,aAAO,QAAQ;AAEf,WAAK,OAAO;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}