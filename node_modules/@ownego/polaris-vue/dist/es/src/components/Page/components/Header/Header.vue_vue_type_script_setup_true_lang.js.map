{"version":3,"file":"Header.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../../../src/components/Page/components/Header/Header.vue"],"sourcesContent":["<template lang=\"pug\">\nBox(\n  position=\"relative\",\n  :visuallyHidden=\"titleHidden\",\n  :paddingBlockStart=\"{ xs: '400', md: '600' }\",\n  :paddingBlockEnd=\"{ xs: '400', md: '600' }\",\n  :paddingInlineStart=\"{ xs: '400', sm: '0' }\",\n  :paddingInlineEnd=\"{ xs: '400', sm: '0' }\",\n)\n  div(\n    v-if=\"labelForPageReadyAccessibilityLabel\",\n    role=\"status\",\n  )\n    Text(visuallyHidden, as=\"p\")\n      | {{ i18n.translate('Polaris.Page.Header.pageReadyAccessibilityLabel',\n      | { title: labelForPageReadyAccessibilityLabel }) }}\n  div(:class=\"headerClassNames\")\n    div(:class=\"styles.Row\")\n      //- #slot1\n      template(\n        v-if=\"!conditionMobileCompact\",\n      )\n        div(:class=\"styles.BreadcrumbWrapper\")\n          Box(\n            maxWidth=\"100%\",\n            printHidden,\n            paddingInlineEnd=\"100\",\n          )\n            Breadcrumbs(\n              v-if=\"backAction\",\n              :backAction=\"backAction\",\n            )\n      //- #slot2\n      PageTitle(v-bind=\"pageTitleProps\")\n        slot(name=\"pageTitle\")\n      div(\n        v-if=\"conditionHasRightAlign\",\n        :class=\"styles.RightAlign\",\n      )\n        div(:class=\"styles.Actions\")\n          //- #slot3\n          ActionMenu(v-bind=\"actionMenuProps\")\n            slot(name=\"secondaryActions\")\n          PrimaryAction(\n            v-if=\"(slots.primaryAction || primaryAction) && !isNavigationCollapsed && !conditionDesktopCompact\",\n            v-bind=\"primaryActionProps\",\n          )\n            slot(name=\"primaryAction\")\n          //- #slot4\n          template(v-if=\"conditionSlot4\")\n            PrimaryAction(\n              v-if=\"(slots.primaryAction || primaryAction) && (isNavigationCollapsed || conditionDesktopCompact)\",\n              v-bind=\"primaryActionProps\",\n            )\n              slot(name=\"primaryAction\")\n            Pagination(\n              v-if=\"!isNavigationCollapsed && !conditionDesktopCompact\",\n              :pagination=\"pagination\",\n            )\n              slot(v-if=\"hasSlot(slots.pagination)\", name=\"pagination\")\n    //- #slot5\n    div(\n      v-if=\"additionalMetadata\",\n      :class=\"styles.Row\",\n    )\n      InlineStack(gap=\"400\")\n        div(:class=\"styles.AdditionalMetaData\")\n          Text(tone=\"subdued\", as=\"span\", variant=\"bodySm\")\n            slot(name=\"additionalMetadata\")\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, useSlots, provide } from 'vue';\nimport type {\n  DestructableAction,\n  DisableableAction,\n  LoadableAction,\n  IconableAction,\n  TooltipAction,\n  MenuActionDescriptor,\n  MenuGroupDescriptor,\n} from '@/utilities/types';\nimport useI18n from '@/use/useI18n';\nimport { Box, InlineStack, Text, Breadcrumbs } from '@/components';\nimport { useMediaQueryContext } from '@/use/useMediaQuery';\nimport type { PaginationProps } from '@/components/Pagination/types.ts';\nimport type { BreadcrumbsProps } from '@/components/Breadcrumbs/Breadcrumbs.vue';\nimport { useHasSlot } from '@/use/useHasSlot';\nimport { classNames } from '@/utilities/css';\nimport type { TitleProps } from './components/Title/Title.vue';\nimport type { ActionMenuProps } from '../../../ActionMenu/ActionMenu.vue';\nimport {\n  ActionMenu,\n  PrimaryAction,\n  Pagination,\n  PageTitle,\n} from './children';\nimport styles from '@polaris/components/Page/components/Header/Header.module.css';\n\n//    Header Layout\n// |----------------------------------------------------|\n// | slot1 | slot2 |                    | slot3 | slot4 |\n// |----------------------------------------------------|\n// | slot5 |                                            |\n// |----------------------------------------------------|\n//\n\nexport interface PrimaryActionType\n  extends DestructableAction,\n  DisableableAction,\n  LoadableAction,\n  IconableAction,\n  TooltipAction {\n  /** Provides extra visual weight and identifies the primary action in a set of buttons */\n  primary?: boolean;\n}\n\nexport interface HeaderProps extends TitleProps {\n  /** Visually hide the title */\n  titleHidden?: boolean;\n  /** A label to use for the page when the page is ready, used by screen readers. Will override the title prop if present */\n  pageReadyAccessibilityLabel?: string;\n  /** Enables filtering action list items */\n  filterActions?: boolean;\n  /** Primary page-level action */\n  primaryAction?: PrimaryActionType;\n  /** Page-level pagination */\n  pagination?: PaginationProps;\n  /** A back action link */\n  backAction?: BreadcrumbsProps['backAction'];\n  /** Collection of secondary page-level actions */\n  secondaryActions?: MenuActionDescriptor[];\n  /** Collection of page-level groups of secondary actions */\n  actionGroups?: MenuGroupDescriptor[];\n  // Additional meta data\n  additionalMetadata?: string;\n}\n\nconst SHORT_TITLE = 20;\nconst REALLY_SHORT_TITLE = 8;\nconst LONG_TITLE = 34;\n\nconst props = defineProps<HeaderProps>();\n\nconst emits = defineEmits<{\n  /** Callback that returns true when secondary actions are rolled up into action groups, and false when not */\n  (event: 'action-rollup', hasRolledUp: boolean): void;\n}>();\n\nconst i18n = useI18n();\nconst { isNavigationCollapsed } = useMediaQueryContext();\nconst slots = useSlots();\nconst { hasSlot } = useHasSlot();\n\nconst isSingleRow = computed(() =>\n  (!props.primaryAction || hasSlot(slots.primaryAction)) &&\n  !props.pagination &&\n  (!props.secondaryActions?.length || hasSlot(slots.secondaryActions)) &&\n  !props.actionGroups?.length,\n);\n\nconst hasActionGroupsOrSecondaryActions = computed(() =>\n  (props.actionGroups && props.actionGroups.length > 0) ||\n  (props.secondaryActions && props.secondaryActions.length > 0) ||\n  hasSlot(slots.secondaryActions),\n);\n\nconst headerClassNames = computed(() =>\n  classNames(\n    isSingleRow && styles.isSingleRow,\n    (props.backAction || props.pagination && !isNavigationCollapsed) && styles.hasNavigation,\n    (((props.secondaryActions && props.secondaryActions.length > 0 || hasGroupsWithActions(props.actionGroups)))\n      || hasSlot(slots.secondaryActions)) && styles.hasActionMenu,\n    isNavigationCollapsed && styles.mobileView,\n    !props.backAction && styles.noBreadcrumbs,\n    props.title && props.title.length < LONG_TITLE && styles.mediumTitle,\n    props.title && props.title.length > LONG_TITLE && styles.longTitle,\n  ),\n);\n\nconst labelForPageReadyAccessibilityLabel = computed(() =>\n  props.pageReadyAccessibilityLabel || props.title,\n);\n\nconst conditionMobileCompact = computed(() =>\n  isNavigationCollapsed &&\n  !props.backAction &&\n  props.title != null &&\n  props.title.length <= REALLY_SHORT_TITLE,\n);\n\nconst conditionDesktopCompact = computed(() => {\n  return !isNavigationCollapsed\n    && !props.pagination\n    && !props.secondaryActions\n    && !slots.secondaryActions\n    && props.title != null && props.title.length <= SHORT_TITLE\n});\n\nconst primaryActionProps = computed(() => {\n  return { ...props.primaryAction };\n});\n\nconst pageTitleProps = computed(() => {\n  return {\n    title: props.title,\n    subtitle: props.subtitle,\n    compactTitle: props.compactTitle,\n    hasSubtitleMaxWidth: hasActionGroupsOrSecondaryActions.value,\n  };\n});\n\nconst actionMenuProps = computed(() => {\n  return {\n    title: props.title,\n    secondaryActions: props.secondaryActions,\n    actionGroups: props.actionGroups,\n  };\n});\n\nconst conditionSlot4 = computed(() => {\n  return ((isNavigationCollapsed || conditionDesktopCompact.value) && primaryActionProps.value)\n    || (!isNavigationCollapsed && !conditionDesktopCompact.value && props.pagination);\n});\n\nconst conditionHasRightAlign = computed(() => {\n  return (props.primaryAction || slots.primaryAction)\n    || (props.secondaryActions || slots.secondaryActions)\n    && (\n      ((props.secondaryActions && !slots.secondaryActions && props.secondaryActions.length > 0)\n        || (slots.secondaryActions && !props.secondaryActions && !slots.secondaryActions.length))\n    )\n    || ((props.actionGroups && props.actionGroups.length > 0) || slots.actionGroups);\n});\n\nconst hasGroupsWithActions = (groups: ActionMenuProps['groups'] = []) => {\n  return groups.length === 0\n    ? false\n    : groups.some((group) => group.actions.length > 0);\n};\n\nprovide('filterActions', Boolean(props.filterActions));\n</script>\n"],"names":["isSingleRow"],"mappings":"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"}