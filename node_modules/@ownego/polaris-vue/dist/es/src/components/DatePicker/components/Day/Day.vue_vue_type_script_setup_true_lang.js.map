{"version":3,"file":"Day.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../../../src/components/DatePicker/components/Day/Day.vue"],"sourcesContent":["<template lang=\"pug\">\ntd(v-if=\"day\", :class=\"dayCellClassName\")\n  button(\n    ref=\"dayNode\",\n    :tabindex=\"tabIndex\",\n    :class=\"dayClassName\",\n    :aria-label=\"ariaLabel\",\n    :aria-disabled=\"disabled\",\n    :aria-pressed=\"selected\",\n    @mouseover=\"handleHover\",\n    @click=\"handleClick\",\n  )\n    Text(\n      as=\"span\",\n      variant=\"bodySm\",\n      alignment=\"center\",\n      :font-weight=\"today ? 'bold' : 'regular'\",\n    ) {{ date }}\ntd(\n  v-else,\n  :class=\"styles.EmptyDayCell\",\n  @mouseover=\"handleHover\",\n)\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref, watch } from 'vue';\nimport { classNames } from '@/utilities/css';\nimport { Text } from '@/components';\nimport { isSameDay } from '@polaris/utilities/dates';\nimport useI18n from '@/use/useI18n';\nimport { monthName } from '@polaris/components/DatePicker/utilities';\nimport styles from '@polaris/components/DatePicker/DatePicker.module.css';\n\nexport type DayProps = {\n  focused?: boolean;\n  day?: Date;\n  selected?: boolean;\n  inRange?: boolean;\n  inHoveringRange?: boolean;\n  disabled?: boolean;\n  lastDayOfMonth?: any;\n  isLastSelectedDay?: boolean;\n  isFirstSelectedDay?: boolean;\n  isHoveringRight?: boolean;\n  rangeIsDifferent?: boolean;\n  weekday?: string;\n  selectedAccessibilityLabelPrefix?: string;\n}\n\ntype DayEvents = {\n  'click': [day: Date];\n  'hover': [day?: Date];\n  'focus': [day: Date];\n}\n\nconst props = defineProps<DayProps>();\nconst emits = defineEmits<DayEvents>();\n\nconst i18n = useI18n();\n\nconst dayNode = ref<HTMLButtonElement | null>(null);\n\nconst hoverValue = computed(() => (props.lastDayOfMonth || props.day));\nconst today = computed(() => props.day ? isSameDay(new Date(), props.day) : null);\nconst date = computed(() => props.day?.getDate());\nconst tabIndex = computed(() => (\n  (props.focused || props.selected || today.value || date.value === 1) && !props.disabled ? 0 : -1\n));\n\nconst ariaLabel = computed(() => (\n  [\n    props.selected && props.selectedAccessibilityLabelPrefix\n      ? `${props.selectedAccessibilityLabelPrefix} `\n      : '',\n    `${today.value ? i18n.translate('Polaris.DatePicker.today') : ''}`,\n    `${props.weekday ? props.weekday : ''} `,\n    `${props.day ? i18n.translate(\n      `Polaris.DatePicker.months.${monthName(props.day.getMonth())}`,\n    ) : null} `,\n    `${date.value} `,\n    `${props.day?.getFullYear()}`,\n  ].join('')\n));\n\nconst dayCellClassName = computed(() => classNames(\n  styles.DayCell,\n  props.selected && styles['DayCell-selected'],\n  (props.inRange || props.inHoveringRange) && !props.disabled && styles['DayCell-inRange'],\n  props.isLastSelectedDay && styles['DayCell-lastInRange'],\n  props.isFirstSelectedDay && styles['DayCell-firstInRange'],\n  props.isHoveringRight && styles['DayCell-hoverRight'],\n  props.rangeIsDifferent && styles['DayCell-hasRange'],\n));\n\nconst dayClassName = computed(() => classNames(\n  styles.Day,\n  props.selected && styles['Day-selected'],\n  props.disabled && styles['Day-disabled'],\n  today.value && styles['Day-today'],\n  (props.inRange || props.inHoveringRange) && !props.disabled && styles['Day-inRange'],\n  props.isLastSelectedDay && styles['Day-lastInRange'],\n  props.isFirstSelectedDay && styles['Day-firstInRange'],\n  props.isHoveringRight && styles['Day-hoverRight'],\n  props.rangeIsDifferent && styles['Day-hasRange'],\n));\n\nwatch(\n  () => props.focused,\n  () => {\n    if (props.focused && dayNode.value) {\n      dayNode.value.focus();\n    }\n  },\n);\n\nconst handleClick = () => {\n  if (props.disabled || !props.day) {\n    return;\n  }\n\n  emits('click', props.day);\n};\n\nconst handleHover = () => {\n  emits('hover', hoverValue.value);\n}\n</script>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA,UAAM,QAAQ;AACd,UAAM,QAAQ;AAEd,UAAM,OAAO;AAEP,UAAA,UAAU,IAA8B,IAAI;AAElD,UAAM,aAAa,SAAS,MAAO,MAAM,kBAAkB,MAAM,GAAI;AACrE,UAAM,QAAQ,SAAS,MAAM,MAAM,MAAM,UAAc,oBAAA,KAAQ,GAAA,MAAM,GAAG,IAAI,IAAI;AAChF,UAAM,OAAO,SAAS,MAAA;;AAAM,yBAAM,QAAN,mBAAW;AAAA,KAAS;AAChD,UAAM,WAAW,SAAS,OACvB,MAAM,WAAW,MAAM,YAAY,MAAM,SAAS,KAAK,UAAU,MAAM,CAAC,MAAM,WAAW,IAAI,EAC/F;AAEK,UAAA,YAAY,SAAS,MACzB;;AAAA;AAAA,QACE,MAAM,YAAY,MAAM,mCACpB,GAAG,MAAM,gCAAgC,MACzC;AAAA,QACJ,GAAG,MAAM,QAAQ,KAAK,UAAU,0BAA0B,IAAI,EAAE;AAAA,QAChE,GAAG,MAAM,UAAU,MAAM,UAAU,EAAE;AAAA,QACrC,GAAG,MAAM,MAAM,KAAK;AAAA,UAClB,6BAA6B,UAAU,MAAM,IAAI,SAAU,CAAA,CAAC;AAAA,QAAA,IAC1D,IAAI;AAAA,QACR,GAAG,KAAK,KAAK;AAAA,QACb,IAAG,WAAM,QAAN,mBAAW,aAAa;AAAA,MAAA,EAC3B,KAAK,EAAE;AAAA,KACV;AAEK,UAAA,mBAAmB,SAAS,MAAM;AAAA,MACtC,OAAO;AAAA,MACP,MAAM,YAAY,OAAO,kBAAkB;AAAA,OAC1C,MAAM,WAAW,MAAM,oBAAoB,CAAC,MAAM,YAAY,OAAO,iBAAiB;AAAA,MACvF,MAAM,qBAAqB,OAAO,qBAAqB;AAAA,MACvD,MAAM,sBAAsB,OAAO,sBAAsB;AAAA,MACzD,MAAM,mBAAmB,OAAO,oBAAoB;AAAA,MACpD,MAAM,oBAAoB,OAAO,kBAAkB;AAAA,IAAA,CACpD;AAEK,UAAA,eAAe,SAAS,MAAM;AAAA,MAClC,OAAO;AAAA,MACP,MAAM,YAAY,OAAO,cAAc;AAAA,MACvC,MAAM,YAAY,OAAO,cAAc;AAAA,MACvC,MAAM,SAAS,OAAO,WAAW;AAAA,OAChC,MAAM,WAAW,MAAM,oBAAoB,CAAC,MAAM,YAAY,OAAO,aAAa;AAAA,MACnF,MAAM,qBAAqB,OAAO,iBAAiB;AAAA,MACnD,MAAM,sBAAsB,OAAO,kBAAkB;AAAA,MACrD,MAAM,mBAAmB,OAAO,gBAAgB;AAAA,MAChD,MAAM,oBAAoB,OAAO,cAAc;AAAA,IAAA,CAChD;AAED;AAAA,MACE,MAAM,MAAM;AAAA,MACZ,MAAM;AACA,YAAA,MAAM,WAAW,QAAQ,OAAO;AAClC,kBAAQ,MAAM;QAChB;AAAA,MACF;AAAA,IAAA;AAGF,UAAM,cAAc,MAAM;AACxB,UAAI,MAAM,YAAY,CAAC,MAAM,KAAK;AAChC;AAAA,MACF;AAEM,YAAA,SAAS,MAAM,GAAG;AAAA,IAAA;AAG1B,UAAM,cAAc,MAAM;AAClB,YAAA,SAAS,WAAW,KAAK;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}