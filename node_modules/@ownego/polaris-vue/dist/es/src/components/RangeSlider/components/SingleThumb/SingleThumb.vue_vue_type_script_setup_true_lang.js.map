{"version":3,"file":"SingleThumb.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../../../src/components/RangeSlider/components/SingleThumb/SingleThumb.vue"],"sourcesContent":["<template lang=\"pug\">\nLabelled(\n  :id=\"id\",\n  :error=\"error\",\n  :action=\"labelAction\",\n  :label-hidden=\"labelHidden\"\n)\n  template(v-if=\"hasLabel\", #label)\n    slot(v-if=\"slots.label\", name=\"label\")\n    template(v-else) {{ label }}\n  template(v-if=\"hasHelpText\", #helpText)\n    slot(v-if=\"slots.helpText\", name=\"helpText\")\n    template(v-else) {{ helpText }}\n\n  div(:class=\"className\", :style=\"cssVars\")\n    div(v-if=\"hasPrefix\", :class=\"styles.Prefix\")\n      slot(v-if=\"slots.prefix\", name=\"prefix\")\n      template(v-else) {{ prefix }}\n\n    div(:class=\"classNames(styles.InputWrapper, sharedStyles['Track--dashed-after'])\")\n      input(\n        type=\"range\",\n        :class=\"styles.Input\",\n        :id=\"id\",\n        :name=\"id\",\n        :min=\"min\",\n        :max=\"max\",\n        :step=\"step\",\n        :value=\"clampedValue\",\n        :disabled=\"disabled\",\n        :aria-valuemin=\"min\",\n        :aria-valuemax=\"max\",\n        :aria-valuenow=\"clampedValue\",\n        :aria-invalid=\"Boolean(error)\",\n        :aria-describedby=\"ariaDescribedBy\",\n        @input=\"handleUpdate\",\n        @change=\"handleChange\",\n        @focus=\"handleFocus\",\n        @blur=\"handleBlur\",\n      )\n\n      output(\n        :class=\"styles.Output\",\n        :for=\"id\",\n      )\n        div(:class=\"styles.OutputBubble\")\n          Text(\n            as=\"span\",\n            variant=\"headingSm\",\n            alignment=\"center\",\n          ) {{ clampedValue }}\n\n    div(v-if=\"hasSuffix\", :class=\"styles.Suffix\")\n      slot(v-if=\"slots.suffix\", name=\"suffix\")\n      template(v-else) {{ suffix }}\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue';\nimport { classNames } from '@/utilities/css';\nimport { clamp } from '@polaris/utilities/clamp';\nimport { Labelled, Text } from '@/components';\nimport { helpTextID } from '@/components/Labelled/utils';\nimport { invertNumber } from '@polaris/components/RangeSlider/utilities';\nimport { useHasSlot } from '@/use/useHasSlot';\nimport type { RangeSliderProps, RangeSliderSlots, RangeSliderEvents } from '../../types';\n\nimport sharedStyles from '@polaris/components/RangeSlider/RangeSlider.module.css';\nimport styles from '@polaris/components/RangeSlider/components/SingleThumb/SingleThumb.module.css';\n\nexport type SingleThumbProps = RangeSliderProps & {\n  id: string;\n  min: number;\n  max: number;\n  step: number;\n}\n\nconst props = defineProps<SingleThumbProps>();\nconst slots = defineSlots<RangeSliderSlots>();\nconst emits = defineEmits<RangeSliderEvents>();\n\nconst model = defineModel<number>({\n  required: true,\n});\n\nconst { hasSlot } = useHasSlot();\n\nconst clampedValue = computed(() => clamp(model.value, props.min, props.max));\n\nconst ariaDescribedBy = computed(() => {\n  const describedBy = [];\n\n  if (props.error) {\n    describedBy.push(`${props.id}Error`);\n  }\n\n  if (props.helpText) {\n    describedBy.push(helpTextID(props.id));\n  }\n\n  return describedBy.length ? describedBy.join(' ') : undefined;\n});\n\nconst sliderProgress = computed(() => (((clampedValue.value - props.min) * 100) / (props.max - props.min)));\nconst outputFactor = computed(() => invertNumber((sliderProgress.value - 50) / 100));\n\nconst cssVars = computed(() => ({\n  '--pc-range-slider-min': props.min,\n  '--pc-range-slider-max': props.max,\n  '--pc-range-slider-current': clampedValue.value,\n  '--pc-range-slider-progress': `${sliderProgress.value}%`,\n  '--pc-range-slider-output-factor': `${outputFactor.value}`,\n}));\n\nconst hasLabel = computed(() => hasSlot(slots.label) || props.label);\nconst hasHelpText = computed(() => hasSlot(slots.helpText) || props.helpText);\nconst hasPrefix = computed(() => hasSlot(slots.prefix) || props.prefix);\nconst hasSuffix = computed(() => hasSlot(slots.suffix) || props.suffix);\n\nconst className = computed(() => classNames(\n  styles.SingleThumb,\n  sharedStyles.RangeSlider,\n  props.error && styles.error,\n  props.disabled && styles.disabled,\n));\n\nconst handleUpdate = (event: Event) => {\n  const target = event.target as HTMLInputElement;\n  model.value = parseFloat(target.value);\n};\n\nconst handleChange = (event: Event) => {\n  const target = event.target as HTMLInputElement;\n\n  model.value = parseFloat(target.value);\n  emits('change', model.value, props.id);\n};\n\nconst handleFocus = () => {\n  emits('focus');\n};\n\nconst handleBlur = () => {\n  emits('blur');\n};\n</script>\n"],"names":["_useSlots","_useModel"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA,UAAM,QAAQ;AACd,UAAM,QAAQA;AACd,UAAM,QAAQ;AAER,UAAA,QAAQC,SAEb,SAAA,YAAA;AAEK,UAAA,EAAE,YAAY;AAEd,UAAA,eAAe,SAAS,MAAM,MAAM,MAAM,OAAO,MAAM,KAAK,MAAM,GAAG,CAAC;AAEtE,UAAA,kBAAkB,SAAS,MAAM;AACrC,YAAM,cAAc,CAAA;AAEpB,UAAI,MAAM,OAAO;AACf,oBAAY,KAAK,GAAG,MAAM,EAAE,OAAO;AAAA,MACrC;AAEA,UAAI,MAAM,UAAU;AAClB,oBAAY,KAAK,WAAW,MAAM,EAAE,CAAC;AAAA,MACvC;AAEA,aAAO,YAAY,SAAS,YAAY,KAAK,GAAG,IAAI;AAAA,IAAA,CACrD;AAEK,UAAA,iBAAiB,SAAS,OAAS,aAAa,QAAQ,MAAM,OAAO,OAAQ,MAAM,MAAM,MAAM,IAAK;AACpG,UAAA,eAAe,SAAS,MAAM,cAAc,eAAe,QAAQ,MAAM,GAAG,CAAC;AAE7E,UAAA,UAAU,SAAS,OAAO;AAAA,MAC9B,yBAAyB,MAAM;AAAA,MAC/B,yBAAyB,MAAM;AAAA,MAC/B,6BAA6B,aAAa;AAAA,MAC1C,8BAA8B,GAAG,eAAe,KAAK;AAAA,MACrD,mCAAmC,GAAG,aAAa,KAAK;AAAA,IACxD,EAAA;AAEI,UAAA,WAAW,SAAS,MAAM,QAAQ,MAAM,KAAK,KAAK,MAAM,KAAK;AAC7D,UAAA,cAAc,SAAS,MAAM,QAAQ,MAAM,QAAQ,KAAK,MAAM,QAAQ;AACtE,UAAA,YAAY,SAAS,MAAM,QAAQ,MAAM,MAAM,KAAK,MAAM,MAAM;AAChE,UAAA,YAAY,SAAS,MAAM,QAAQ,MAAM,MAAM,KAAK,MAAM,MAAM;AAEhE,UAAA,YAAY,SAAS,MAAM;AAAA,MAC/B,OAAO;AAAA,MACP,aAAa;AAAA,MACb,MAAM,SAAS,OAAO;AAAA,MACtB,MAAM,YAAY,OAAO;AAAA,IAAA,CAC1B;AAEK,UAAA,eAAe,CAAC,UAAiB;AACrC,YAAM,SAAS,MAAM;AACf,YAAA,QAAQ,WAAW,OAAO,KAAK;AAAA,IAAA;AAGjC,UAAA,eAAe,CAAC,UAAiB;AACrC,YAAM,SAAS,MAAM;AAEf,YAAA,QAAQ,WAAW,OAAO,KAAK;AACrC,YAAM,UAAU,MAAM,OAAO,MAAM,EAAE;AAAA,IAAA;AAGvC,UAAM,cAAc,MAAM;AACxB,YAAM,OAAO;AAAA,IAAA;AAGf,UAAM,aAAa,MAAM;AACvB,YAAM,MAAM;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}