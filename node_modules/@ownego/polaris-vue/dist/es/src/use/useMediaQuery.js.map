{"version":3,"file":"useMediaQuery.js","sources":["../../../../src/use/useMediaQuery.ts"],"sourcesContent":["import { inject, ref } from 'vue';\nimport { debounce } from '@polaris/utilities/debounce';\nimport { MediaQueryContextType } from '@/utilities/media-query';\nimport { navigationBarCollapsed } from '@/use/useBreakpoints';\nimport { useEventListener } from '@/utilities/use-event-listener';\n\nexport default function useMediaQuery() {\n  const context = inject('media-query') as MediaQueryContextType;\n  return context;\n}\n\nexport function useMediaQueryContext() {\n  const isNavigationCollapsed = ref(navigationBarCollapsed().matches);\n\n  const handleResize = debounce(\n    () => {\n      if (isNavigationCollapsed.value !== navigationBarCollapsed().matches) {\n        isNavigationCollapsed.value = !isNavigationCollapsed.value;\n      }\n    },\n    40,\n    {trailing: true, leading: true, maxWait: 40},\n  );\n\n  useEventListener('resize', handleResize);\n\n  return {\n    isNavigationCollapsed,\n  };\n}\n"],"names":[],"mappings":";;;;AAWO,SAAS,uBAAuB;AACrC,QAAM,wBAAwB,IAAI,uBAAuB,EAAE,OAAO;AAElE,QAAM,eAAe;AAAA,IACnB,MAAM;AACJ,UAAI,sBAAsB,UAAU,uBAAuB,EAAE,SAAS;AAC9C,8BAAA,QAAQ,CAAC,sBAAsB;AAAA,MACvD;AAAA,IACF;AAAA,IACA;AAAA,IACA,EAAC,UAAU,MAAM,SAAS,MAAM,SAAS,GAAE;AAAA,EAAA;AAG7C,mBAAiB,UAAU,YAAY;AAEhC,SAAA;AAAA,IACL;AAAA,EAAA;AAEJ;"}