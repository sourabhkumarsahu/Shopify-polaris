{"version":3,"file":"css.js","sources":["../../../../src/utilities/css.ts"],"sourcesContent":["import { CSSProperties } from 'vue';\nimport type { BreakpointsAlias } from '@shopify/polaris-tokens';\nimport { breakpointsAliases } from '@shopify/polaris-tokens';\n\nimport { isObject } from '@polaris/utilities/is-object';\n\ntype Falsy = boolean | undefined | null | 0;\n\ntype ResponsivePropConfig<T = string> = {\n  [Breakpoint in BreakpointsAlias]?: T;\n};\n\nexport type ResponsiveProp<T> = T | ResponsivePropConfig<T>;\n\nexport type ResponsiveValue<T = string> = undefined | ResponsiveProp<T>;\n\ntype ResponsiveVariables<T> = {\n  [Breakpoint in `${string}-${BreakpointsAlias}`]?: T;\n};\n\nexport function classNames(...classes: (string | Falsy)[]) {\n  return classes.filter(Boolean).join(' ');\n}\n\nexport function variationName(name: string, value: string) {\n  return `${name}${value.charAt(0).toUpperCase()}${value.slice(1)}`;\n}\n\nexport function sanitizeCustomProperties(\n  styles: CSSProperties,\n): CSSProperties | undefined {\n  const nonNullValues = Object.entries(styles).filter(\n    ([_, value]) => value != null,\n  );\n\n  return nonNullValues.length ? Object.fromEntries(nonNullValues) : undefined;\n}\n\n/**\n * Given params like so:\n * (\n *   'button',\n *   'padding',\n *   'spacing',\n *   {\n *     sm: \"4\",\n *     lg: \"6\"\n *   }\n * )\n * Converts it to an object like so:\n * {\n *   '--pc-button-padding-sm': 'var(--p-spacing-4)',\n *   '--pc-button-padding-lg': 'var(--p-spacing-6)'\n * }\n *\n */\nexport function getResponsiveProps<T = string>(\n  componentName: string,\n  componentProp: string,\n  tokenSubgroup: string,\n  responsiveProp?: ResponsiveProp<T>,\n): ResponsiveVariables<T> {\n  if (!responsiveProp) return {};\n\n  let result: ResponsivePropConfig;\n\n  if (!isObject(responsiveProp)) {\n    result = {\n      [breakpointsAliases[0]]: `var(--p-${tokenSubgroup}-${responsiveProp})`,\n    };\n  } else {\n    result = Object.fromEntries(\n      Object.entries(responsiveProp).map(([breakpointAlias, aliasOrScale]) => [\n        breakpointAlias,\n        `var(--p-${tokenSubgroup}-${aliasOrScale})`,\n      ]),\n    );\n  }\n\n  // Prefix each responsive key with the correct token name\n  return Object.fromEntries(\n    Object.entries(result).map(([breakpointAlias, value]) => [\n      `--pc-${componentName}-${componentProp}-${breakpointAlias}`,\n      value,\n    ]),\n  ) as unknown as ResponsiveVariables<T>;\n}\n\nexport function getResponsiveValue<T = string>(\n  componentName: string,\n  componentProp: string,\n  responsiveProp?: ResponsiveValue<T>,\n): ResponsiveVariables<T> {\n  if (!responsiveProp) return {};\n\n  if (!isObject(responsiveProp)) {\n    return {\n      [`--pc-${componentName}-${componentProp}-${breakpointsAliases[0]}`]:\n        responsiveProp,\n    } as ResponsiveVariables<T>;\n  }\n\n  return Object.fromEntries(\n    Object.entries(responsiveProp).map(([breakpointAlias, responsiveValue]) => [\n      `--pc-${componentName}-${componentProp}-${breakpointAlias}`,\n      responsiveValue,\n    ]),\n  );\n}\n"],"names":[],"mappings":";;AAoBO,SAAS,cAAc,SAA6B;AACzD,SAAO,QAAQ,OAAO,OAAO,EAAE,KAAK,GAAG;AACzC;AAEgB,SAAA,cAAc,MAAc,OAAe;AACzD,SAAO,GAAG,IAAI,GAAG,MAAM,OAAO,CAAC,EAAE,YAAA,CAAa,GAAG,MAAM,MAAM,CAAC,CAAC;AACjE;AAEO,SAAS,yBACd,QAC2B;AAC3B,QAAM,gBAAgB,OAAO,QAAQ,MAAM,EAAE;AAAA,IAC3C,CAAC,CAAC,GAAG,KAAK,MAAM,SAAS;AAAA,EAAA;AAG3B,SAAO,cAAc,SAAS,OAAO,YAAY,aAAa,IAAI;AACpE;AAoBO,SAAS,mBACd,eACA,eACA,eACA,gBACwB;AACpB,MAAA,CAAC,eAAgB,QAAO;AAExB,MAAA;AAEA,MAAA,CAAC,SAAS,cAAc,GAAG;AACpB,aAAA;AAAA,MACP,CAAC,mBAAmB,CAAC,CAAC,GAAG,WAAW,aAAa,IAAI,cAAc;AAAA,IAAA;AAAA,EACrE,OACK;AACL,aAAS,OAAO;AAAA,MACd,OAAO,QAAQ,cAAc,EAAE,IAAI,CAAC,CAAC,iBAAiB,YAAY,MAAM;AAAA,QACtE;AAAA,QACA,WAAW,aAAa,IAAI,YAAY;AAAA,MAAA,CACzC;AAAA,IAAA;AAAA,EAEL;AAGA,SAAO,OAAO;AAAA,IACZ,OAAO,QAAQ,MAAM,EAAE,IAAI,CAAC,CAAC,iBAAiB,KAAK,MAAM;AAAA,MACvD,QAAQ,aAAa,IAAI,aAAa,IAAI,eAAe;AAAA,MACzD;AAAA,IAAA,CACD;AAAA,EAAA;AAEL;AAEgB,SAAA,mBACd,eACA,eACA,gBACwB;AACpB,MAAA,CAAC,eAAgB,QAAO;AAExB,MAAA,CAAC,SAAS,cAAc,GAAG;AACtB,WAAA;AAAA,MACL,CAAC,QAAQ,aAAa,IAAI,aAAa,IAAI,mBAAmB,CAAC,CAAC,EAAE,GAChE;AAAA,IAAA;AAAA,EAEN;AAEA,SAAO,OAAO;AAAA,IACZ,OAAO,QAAQ,cAAc,EAAE,IAAI,CAAC,CAAC,iBAAiB,eAAe,MAAM;AAAA,MACzE,QAAQ,aAAa,IAAI,aAAa,IAAI,eAAe;AAAA,MACzD;AAAA,IAAA,CACD;AAAA,EAAA;AAEL;"}