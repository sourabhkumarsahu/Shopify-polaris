{"version":3,"file":"geometry.js","sources":["../../../../src/utilities/geometry.ts"],"sourcesContent":["import { type Component } from 'vue';\n\ninterface RectConfig {\n  top?: number;\n  left?: number;\n  width?: number;\n  height?: number;\n}\n\ninterface Point {\n  x: number;\n  y: number;\n}\nexport class Rect {\n  static get zero(): Rect {\n    return new Rect();\n  }\n\n  top: number;\n  left: number;\n  width: number;\n  height: number;\n\n  constructor({top = 0, left = 0, width = 0, height = 0}: RectConfig = {}) {\n    this.top = top;\n    this.left = left;\n    this.width = width;\n    this.height = height;\n  }\n\n  get center(): Point {\n    return {\n      x: this.left + this.width / 2,\n      y: this.top + this.height / 2,\n    };\n  }\n}\n\nexport function getRectForNode(\n  node: Element | Component | Window | Document,\n): Rect {\n  /**\n   * NOTE: We cannot do node instanceof Element because it will fail when inside of an iframe.\n   * Technically we can do `node instanceof node.ownerDocument.defaultView.Element`but this will\n   * fail when node isn't an Element. We might as well try to run `getBoundingClientRect` and then\n   * have a fallback for when that breaks.\n   */\n  try {\n    const rect = (node as Element).getBoundingClientRect();\n\n    return new Rect({\n      top: rect.top,\n      left: rect.left,\n      width: rect.width,\n      height: rect.height,\n    });\n  } catch (_) {\n    return new Rect({\n      width: window.innerWidth,\n      height: window.innerHeight,\n    });\n  }\n}\n"],"names":[],"mappings":";;;AAaO,MAAM,KAAK;AAAA,EAUhB,YAAY,EAAC,MAAM,GAAG,OAAO,GAAG,QAAQ,GAAG,SAAS,EAAA,IAAiB,CAAA,GAAI;AALzE;AACA;AACA;AACA;AAGE,SAAK,MAAM;AACX,SAAK,OAAO;AACZ,SAAK,QAAQ;AACb,SAAK,SAAS;AAAA,EAChB;AAAA,EAdA,WAAW,OAAa;AACtB,WAAO,IAAI,KAAK;AAAA,EAClB;AAAA,EAcA,IAAI,SAAgB;AACX,WAAA;AAAA,MACL,GAAG,KAAK,OAAO,KAAK,QAAQ;AAAA,MAC5B,GAAG,KAAK,MAAM,KAAK,SAAS;AAAA,IAAA;AAAA,EAEhC;AACF;AAEO,SAAS,eACd,MACM;AAOF,MAAA;AACI,UAAA,OAAQ,KAAiB;AAE/B,WAAO,IAAI,KAAK;AAAA,MACd,KAAK,KAAK;AAAA,MACV,MAAM,KAAK;AAAA,MACX,OAAO,KAAK;AAAA,MACZ,QAAQ,KAAK;AAAA,IAAA,CACd;AAAA,WACM,GAAG;AACV,WAAO,IAAI,KAAK;AAAA,MACd,OAAO,OAAO;AAAA,MACd,QAAQ,OAAO;AAAA,IAAA,CAChB;AAAA,EACH;AACF;"}