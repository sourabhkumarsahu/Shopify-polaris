{"version":3,"file":"merge.js","sources":["../../../../../../polaris/polaris-react/src/utilities/merge.ts"],"sourcesContent":["// Unfortunately, this is how we have to type this at the moment.\n// There is currently a proposal to support variadic kinds.\n// https://github.com/Microsoft/TypeScript/issues/5453\nexport function merge<TSource1, TSource2>(\n  source1: TSource1,\n  source2: TSource2,\n): TSource1 & TSource2;\nexport function merge<TSource1, TSource2, TSource3>(\n  source1: TSource1,\n  source2: TSource2,\n  source3: TSource3,\n): TSource1 & TSource2 & TSource3;\nexport function merge<TSource1, TSource2, TSource3, TSource4>(\n  source1: TSource1,\n  source2: TSource2,\n  source3: TSource3,\n  source4: TSource4,\n): TSource1 & TSource2 & TSource3 & TSource4;\nexport function merge<TSource1, TSource2, TSource3, TSource4, TSource5>(\n  source1: TSource1,\n  source2: TSource2,\n  source3: TSource3,\n  source4: TSource4,\n  source5: TSource5,\n): TSource1 & TSource2 & TSource3 & TSource4 & TSource5;\nexport function merge<TResult>(...objs: any[]): TResult;\nexport function merge<TSource1, TSource2, TSource3, TSource4, TSource5>(\n  ...objs: (TSource1 | TSource2 | TSource3 | TSource4 | TSource5)[]\n) {\n  let final = {};\n\n  for (const obj of objs) {\n    final = mergeRecursively(final, obj as any);\n  }\n\n  return final;\n}\n\ninterface GeneralObject {\n  [key: string]: any;\n}\n\nfunction mergeRecursively(inputObjA: GeneralObject, objB: GeneralObject) {\n  const objA: GeneralObject = Array.isArray(inputObjA)\n    ? [...inputObjA]\n    : {...inputObjA};\n  for (const key in objB) {\n    if (!Object.prototype.hasOwnProperty.call(objB, key)) {\n      continue;\n    } else if (isMergeableValue(objB[key]) && isMergeableValue(objA[key])) {\n      objA[key] = mergeRecursively(objA[key], objB[key]);\n    } else {\n      objA[key] = objB[key];\n    }\n  }\n\n  return objA;\n}\n\nfunction isMergeableValue(value: any) {\n  return value !== null && typeof value === 'object';\n}\n"],"names":[],"mappings":"AA0BO,SAAS,SACX,MACH;AACA,MAAI,QAAQ,CAAA;AAEZ,aAAW,OAAO,MAAM;AACd,YAAA,iBAAiB,OAAO,GAAU;AAAA,EAC5C;AAEO,SAAA;AACT;AAMA,SAAS,iBAAiB,WAA0B,MAAqB;AACjE,QAAA,OAAsB,MAAM,QAAQ,SAAS,IAC/C,CAAC,GAAG,SAAS,IACb,EAAC,GAAG;AACR,aAAW,OAAO,MAAM;AACtB,QAAI,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,GAAG,GAAG;AACpD;AAAA,IAAA,WACS,iBAAiB,KAAK,GAAG,CAAC,KAAK,iBAAiB,KAAK,GAAG,CAAC,GAAG;AAChE,WAAA,GAAG,IAAI,iBAAiB,KAAK,GAAG,GAAG,KAAK,GAAG,CAAC;AAAA,IAAA,OAC5C;AACA,WAAA,GAAG,IAAI,KAAK,GAAG;AAAA,IACtB;AAAA,EACF;AAEO,SAAA;AACT;AAEA,SAAS,iBAAiB,OAAY;AAC7B,SAAA,UAAU,QAAQ,OAAO,UAAU;AAC5C;"}